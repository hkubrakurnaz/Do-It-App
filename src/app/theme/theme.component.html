<div>
    <div class="grid-container">
        <div class="item1"></div>
        <form>
            <mat-vertical-stepper linear #stepper>
                <mat-step [stepControl]="goalForm">
                    <form [formGroup]="goalForm">
                        <ng-template matStepLabel>What's your goal?</ng-template>
                        <mat-form-field>
                            <mat-label>Goal</mat-label>
                            <input matInput placeholder="Last name, First name" formControlName="goalCtrl" required />
                        </mat-form-field>
                        <div>
                            <button color="primary" mat-button matStepperNext>Next</button>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="dateForm" [optional]="isOptional">
                    <form [formGroup]="dateForm">
                        <ng-template matStepLabel>Date</ng-template>
                        <mat-form-field>
                            <mat-label>Choose a date</mat-label>
                            <input matInput [min]="minDate" [matDatepicker]="picker" formControlName="dateCtrl" (dateChange)="calculateRemainDate()" required />

                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker2 color="primary" #picker></mat-datepicker>

                        </mat-form-field>
                        <div class="alert-box success daysFromNow">That's {{remainDay}} days from now</div>
                        <div>
                            <button color="primary" mat-button matStepperPrevious>Back</button>
                            <button color="primary" mat-button matStepperNext>Next</button>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="priceForm" [optional]="isOptional">
                    <form [formGroup]="priceForm">
                        <ng-template matStepLabel>Price</ng-template>
                        <mat-form-field appearance="fill">
                            <mat-label>Price</mat-label>
                            <mat-select formControlName="priceCtrl" required>
                                <mat-option *ngFor="let price of prices" [value]="price">
                                    {{ price }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div>
                            <button color="primary" mat-button matStepperPrevious>Back</button>
                            <button color="primary" mat-button matStepperNext>Next</button>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="supervisorEmailForm" [optional]="isOptional">

                    <form [formGroup]="supervisorEmailForm">
                        <ng-template matStepLabel>Supervisor's Mail</ng-template>
                        <mat-form-field class="example-full-width">
                            <mat-label>Supervisor's Email</mat-label>
                            <input matInput formControlName="supervisorEmailCtrl " [errorStateMatcher]="matcher" placeholder="Ex. pat@example.com " formControlName="supervisorEmailCtrl" />
                            <mat-hint>Errors appear instantly!</mat-hint>

                            <mat-error *ngIf="
                            supervisorEmailForm.controls.supervisorEmailCtrl.hasError('email')">
                                Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="supervisorEmailForm.controls.supervisorEmailCtrl.hasError('required')">
                                Email is <strong>required</strong>
                            </mat-error>

                        </mat-form-field>
                        <div>
                            <button color="primary" mat-button matStepperPrevious>Back</button>
                            <button color="primary" mat-button matStepperNext>  Next </button>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="userEmailForm" [optional]="isOptional">
                    <ng-template matStepLabel>Your Mail</ng-template>
                    <form [formGroup]="userEmailForm">
                        <mat-form-field class="example-full-width">
                            <mat-label>Your Email</mat-label>
                            <input matInput formControlName="userEmailCtrl" [errorStateMatcher]="matcher" placeholder="Ex. pat@example.com " />
                            <mat-hint>Errors appear instantly!</mat-hint>

                            <!-- <mat-error *ngIf="supervisorEmailForm.controls.supervisorEmailCtrl.value===userEmailForm.controls.userEmailCtrl.value">
                                Your email can't be same as supervisor.
                            </mat-error> -->

                            <mat-error *ngIf="
                            userEmailForm.controls.userEmailCtrl.hasError('email')">
                                Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="userEmailForm.controls.userEmailCtrl.hasError('required')">
                                Email is <strong>required</strong>

                            </mat-error>
                            <mat-error *ngIf="userEmailForm.controls.userEmailCtrl.hasError('fieldMatch')">
                                Your email can't be same as supervisor.
                            </mat-error>
                        </mat-form-field>
                        <!-- *ngIf="checkEmail(); else elseBlock" -->
                        <div>

                            <button color="primary" mat-button matStepperPrevious>Back</button>
                            <button color="primary" mat-button matStepperNext (click)="openDialog()"> Next </button>
                        </div>

                        <!-- <ng-template #elseBlock>
                            <br> Your email can't be same as supervisor.</ng-template> -->
                    </form>
                </mat-step>


                <mat-step [stepControl]="creditCardForm" [optional]="isOptional">

                    <form [formGroup]="creditCardForm">
                        <ng-template matStepLabel>Credit Card </ng-template>
                        <button mat-button>Launch dialog</button>>
                        <div>
                            <button color="primary" mat-button matStepperPrevious>Back</button>
                            <button color="primary" mat-button matStepperNext (click)="done()">Done</button>
                        </div>
                    </form>
                </mat-step>
            </mat-vertical-stepper>
        </form>
    </div>
</div>